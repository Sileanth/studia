effect rec Loop =
  { loop : (Unit ->[IO] Unit) => Unit ->[Loop,IO] Unit
  }

let loop = fn f =>
  handle loop f () with
  | loop f => let _ = f () in resume (fn () => loop f ())
  end

let _ = loop (fn () => printInt (readInt ()))
